# setup docker

docker run --gpus all --shm-size=30g --name mytf1 -it -v $PWD:/home/od tensorflow/tensorflow:1.14.0-gpu-py3 /bin/bash
docker exec -it mytf1 /bin/bash

# Install TensorFlow Object Detection API.

pip install --upgrade pip setuptools wheel
git clone https://github.com/tensorflow/models.git
docker exec -it <your_container> bin/bash
apt install protobuf-compiler
cd models/research
protoc object_detection/protos/*.proto --python_out=.
cp object_detection/packages/tf1/setup.py .
python -m pip install .
pip install keras==2.1.6

File "/usr/local/lib/python3.6/dist-packages/object_detection/models/keras_models/resnet_v1.py", line 21, in <module>
    from keras.applications import resnet
ImportError: cannot import name 'resnet'

# download pretrained model tensorflow1
wget http://download.tensorflow.org/models/object_detection/mask_rcnn_inception_v2_coco_2018_01_28.tar.gz

# Test the installation (custom)
python object_detection/builders/model_builder_tf1_test.py